package maxpower.fft.utils;

import java.util.ArrayList;
import java.util.List;

import org.jtransforms.fft.DoubleFFT_1D;

public final class FFTWrapper {

    private FFTWrapper() {}

    public static List<Complex> fft(List<Complex> in) {

        final int N = in.size();
        double[] x = new double[N*2];

        for (int i = 0; i < N; i++) {
            x[2*i+0] = in[i].real();
            x[2*i+1] = in[i].imag();
        }

        new DoubleFFT_1D(N).complexForward(x);

        List<Complex> out = new ArrayList<Complex>();
        for (int i = 0; i < N; i++) {
            out.add(new Complex(x[2*i+0], x[2*i+1]));
        }

        return out;
    }

}
